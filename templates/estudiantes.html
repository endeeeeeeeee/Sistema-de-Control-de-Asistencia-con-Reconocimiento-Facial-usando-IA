<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudiantes - CLASS VISION</title>
    <link rel="stylesheet" href="/static/css/estudiantes.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <a href="/dashboard" class="btn btn-back">‚Üê Volver al Dashboard</a>
                <h1 style="margin-top: 20px;">Estudiantes</h1>
            </div>
            <button class="btn btn-primary" id="btnNewStudent">
                ‚ûï Inscribir Estudiante
            </button>
        </div>

        <div class="search-bar">
            <input type="text" class="search-input" id="searchInput" placeholder="üîç Buscar por nombre o c√≥digo...">
        </div>

        <div class="students-table" id="studentsContainer">
            <div class="loading">
                <div class="spinner"></div>
                <p>Cargando estudiantes...</p>
            </div>
        </div>
    </div>

    <!-- Modal Inscribir -->
    <div class="modal" id="modalNewStudent">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Inscribir Estudiante a Materia</h2>
            </div>
            <form id="formNewStudent">
                <div class="alert" style="background: #EFF6FF; border-left: 4px solid var(--secondary); padding: 15px; margin-bottom: 20px;">
                    <p style="margin: 0; color: var(--primary); font-size: 14px;">
                        üí° <strong>Nota:</strong> Los estudiantes deben registrarse primero en 
                        <a href="/registro-estudiante" target="_blank" style="color: var(--secondary); text-decoration: underline;">el portal p√∫blico</a> 
                        con su foto facial. Aqu√≠ solo inscribes estudiantes existentes a tu materia.
                    </p>
                </div>
                
                <div class="form-group">
                    <label for="selectMateria">Seleccionar Materia *</label>
                    <select class="form-control" id="selectMateria" required>
                        <option value="">-- Selecciona una materia --</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="codigoEstudiante">C√≥digo de Estudiante *</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" class="form-control" id="codigoEstudiante" 
                               placeholder="Ej: EST-2024-001" required>
                        <button type="button" class="btn btn-secondary" id="btnBuscar">üîç Buscar</button>
                    </div>
                </div>
                
                <div id="studentInfo" style="display: none; background: #F9FAFB; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h3 style="color: var(--primary); margin-bottom: 15px;">Informaci√≥n del Estudiante</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <p><strong>Nombre:</strong> <span id="infoNombre">-</span></p>
                        <p><strong>Email:</strong> <span id="infoEmail">-</span></p>
                        <p><strong>Tel√©fono:</strong> <span id="infoTelefono">-</span></p>
                        <p><strong>Materias Inscritas:</strong> <span id="infoMaterias">-</span></p>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-cancel" id="btnCancelModal">Cancelar</button>
                    <button type="submit" class="btn btn-primary" id="btnSubmit" disabled>‚úÖ Inscribir Estudiante</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/static/js/estudiantes.js"></script>
</body>
</html>
